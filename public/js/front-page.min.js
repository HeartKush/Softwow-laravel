$(function () {
  $("#btn-down").click(function () {
    let scroll_el = $(this).attr("href");
    if ($(about).length != 0) {
      $("html, body").animate({ scrollTop: $(about).offset().top + 10 }, 1500);
    }
  });
  $(".my-works").click(function () {
    var f = $(this).attr("href");
    if ($(portfolio).length != 0) {
      $("html, body").animate(
        { scrollTop: $(portfolio).offset().top + 10 },
        1500
      );
    }
    return false;
  });
  if (window.matchMedia("(max-width: 991px)").matches) {
    $(".horizontal-navbar .nav-link").attr("data-toggle", "collapse");
    $(".horizontal-navbar .nav-link").attr("data-target", "#topmenu");
  }
  $(".horizontal-navbar .nav-link").click(function () {
    $(".horizontal-navbar .burger").removeClass("active");
  });
  var d,
    c = $(".navbar-nav"),
    e = c.outerHeight(),
    b = c.find("a"),
    a = b.map(function () {
      var f = $($(this).attr("href"));
      if (f.length) {
        return f;
      }
    });
  b.click(function (h) {
    var f = $(this).attr("href"),
      g = f === "#" ? 0 : $(f).offset().top + 10;
    $("html, body").stop().animate({ scrollTop: g }, 1500);
    h.preventDefault();
  });
  $(window).scroll(function () {
    var f = $(this).scrollTop() + e;
    var g = a.map(function () {
      if ($(this).offset().top < f) {
        return this;
      }
    });
    g = g[g.length - 1];
    var h = g && g.length ? g[0].id : "";
    if (d !== h) {
      d = h;
      b.parent()
        .removeClass("active")
        .end()
        .filter("[href='#" + h + "']")
        .parent()
        .addClass("active");
    }
  });
});
